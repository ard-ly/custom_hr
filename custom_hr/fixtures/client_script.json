[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Leave Application",
  "enabled": 1,
  "modified": "2024-06-12 11:18:18.753016",
  "module": "Custom HR",
  "name": "Leave Application CS",
  "script": "frappe.ui.form.on('Leave Application', {\n    setup(frm) {\n        if(!cur_frm.doc.employee){\n            frm.set_query(\"leave_type\", function () {\n                return {\n                    filters: [\n                        [\"Leave Type\",\"name\", \"=\", '']\n                    ]\n                };\n            });\n        }else{\n            frm.set_query(\"leave_type\", function () {\n                return {\n                    query: \"custom_hr.api_utils.get_leave_type\",\n                    filters: {\n                        employee_id: frm.doc.employee\n                    }\n                };\n            });\n        }\n\n    },\n    employee(frm) {\n\n        frm.set_query(\"leave_type\", function () {\n            return {\n                query: \"custom_hr.api_utils.get_leave_type\",\n                filters: {\n                    employee_id: frm.doc.employee\n                }\n            };\n        });\n\n    }\n})",
  "view": "Form"
 }
]